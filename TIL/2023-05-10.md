
### **1. 오늘 겪은 문제**

1.  supertest agent
2. artillery & artillery report
3. https


### **2. 해본 시도**
1. comment의 crud 요청을 통합 테스트로 진행하려 할때 특정 method들은 로그인 정보가 필요하기 때문에 테스트 코드 작성에 문제가 있었다. 해서 유저정보 객체를 생성하여 해당 정보를 테스트 코드에 넣어줄까하다 다른 방법들을 찾아봤다.
2. artillery, 부하 테스트를 진행해보기 위해서 해당 모듈을 인스톨했으나, 노드 버전이 낮아 노드 부터 다시 인스톨한 후, artillery quick 명령어를 통해서 간단한 부하테스트를 진행했다. 그러나 간소한 테스트로는 해당 테스트 결과를 저장하거나, report로 만들 수 없었따.
3. https 여전히 막혀 있다. 도메인 포트며 연결이며 다 잘되어있는 상태인데 해당 도메인으로 certbot 인증서 발급을 요청하면 해당 주소를 찾을 수 없다고 나와있다. 아무래도 매니저님의 도움이 필요한 때 인 것이다.

### **3. 해결 방법**
1. supertest의 agent와 beforeEach명령어를 사용해서 로그인 정보가 필요한 테스트가 시작되기 전마다 agent가 로그인을 수행하는 코드를 더해준 후 통합테스트를 진행하여 간편하게 작성할 수 있었다.
2. artillery 시나리오 yml 파일을 작성하고 해당 시나리오 실행 결과를 artillery run o(outputfile) <저장할 파일> <실행할 시나리오> 옵션을 통해서  json파일에 저장해주었다. 그 후 artillery report <json파일경로 > 명령어를 통해서 부하 테스트 결과가 담긴 html파일을 생성하여 직접 ui로 확인할 수 있게 하였다.

### **4. 새롭게 알게 된 점**
-  artillery 명령어들.


### **5. 오늘 더 효율적으로 일할 수 있었을 것 같은 방법은?**
- 휴식은 생산성에 도움이 된다. 휴식 없이 계속 조급하게 생각하지 말자.
